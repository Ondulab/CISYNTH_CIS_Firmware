Vue nappe :
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
                    |                   NAPPE                   |
                    |                                           |
                    |   |   |   |   |   |   |   |   |   |   |   |
                    |___|___|___|___|___|___|___|___|___|___|___|
                                                            1

- Elle comporte 2 ferrites coté carte mère et une coté capteur
-  
                       GND
Pinout :
            +LED 5V    LED1 R     LED2 V     LED3 B       GND        CLK         SP        3,3V       GND        ADC
               |          |          |          |          |          |          |          |          |          |   
               10         9          8          7          6          5          4          3          2          1

- ADC coté 1 ZIF

Start Pulse 300 / 600 DPI
                                                        1   2   3   4   5   6   7   8   9  10
                                                     _   _   _   _   _   _   _   _   _   _   _   _   _
CLK =                                              _/ \_/ \_/ \_/ \_/ \_/ \_/ \_/ \_/ \_/ \_/ \_/ \_/ 
                                                      ________________________________________  
SP  =                                           _____/                                        \____

Start Pulse 1200 DPI
                                                        1   2   3   4   5   6   7   8
                                                     _   _   _   _   _   _   _   _   _   _   _
CLK =                                              _/ \_/ \_/ \_/ \_/ \_/ \_/ \_/ \_/ \_/ \_/ 
                                                      ________________________________  
SP  =                                           _____/                                \____
                                            
300 DPI :
CLK = 3,70MHz   Vpp 4,48V                                    
SP  = 1,35kHz   Vpp 3,20V   3,21uS 

RED 	= 160
GREEN	= 91
BLEU	= 91            

1,16V = Il semble correspondre à la tension min de la sortie ADC, à voir si on utilise l'ADC en mode differentiel...

Chronogramme :
- A l'aide du comptage de fronts, je note 2768 clocks entre le début de deux start puslse
- L'amplitude max (blanc) donne 0,928V pour la mesure et 2,261 pour le seuil haut. La mesure se fait quand la clock est à 1
- La clock est sinusoidale
- SP serait actif au moment du falling 
- Après et pendant le SP l'ADC reste au Max de la tension de sortie, soit 3,08V pendant 23,1uS (87 falling CLK) (à compter du falling edge du SP)
- Puis la sortie ADC prend la valeur ~2,94V pendant 58 Falling clock cycles, surement pour calibrer
- Zone inactive de 3 falling CLK
- Le capteur est divisé en 8 secteurs ce qui laisserai penser que le nombre de pixels est de 323*8 = 2584
- Enfin 22 valeurs ne bougent pas en fin de lecture, surement pour de la qualibration + 3 qui debordent sur le start pulse

Init :
- Le scanner opèrerait une qualibration pour chaque couleur au démarrage

Scan 300DPI :
- Il n'y a pas de differenre notable entre 300 et 600dpi au niveau du start pulse.
- A 1200dpi le scanner se comporte bien differemment, 2 captures sont réalisées entre 2 pulses, à 2400dpi 4 capteures entre 2 pulses
- A 1200dpi le start pulse est plus court
- Temps ON 
    - R 400uS
    - V 639uS
    - B 547uS
- Il semblerait qu'il y a un décalage d'une capture entre le moment ou on allume la LED et le moment ou on récupère la capture

Etude Carte mère (Modèle noir) :
- L'entrée ADC comporte une résistance de "0ohm" en serie suivie d'un condensateur de 10nF en série également (de la nappe à l'ADC). 
- La sortie CLK comporte en série une résistance de 0ohm (noté NF101) suivie d'une résistance de 33ohm. Un condensateur de 10nF est placé entre la CLK et le GND suivi d'une résistance de Oohm (du uC à la nappe)

Etude Carte mère (Modèle ver) :
- L'entrée ADC comporte une résistance de "0ohm" en serie suivie d'un condensateur de 10nF en série également (de la nappe à l'ADC).
- La sortie CLK comporte en série une résistance de 33ohm suivie d'une résistance de 0ohm suivi d'une ferrite. Un condensateur de 10nF est placé entre la CLK et le GND (du uC à la nappe)

- (ancien capteur) Les lignes CLK et SP sont adaptées en impédance, 100ohm en ligne et une capa (valeur inconnue) coté connecteur et masse. En effet ce filtre améliaure grandement la qualité de la sortie ADC, je décide de mettre 470pF afin de faire un filtre passe-bas qui coupe à 3,5MHz

Pour aller plus loin :
- ADC WM8255

